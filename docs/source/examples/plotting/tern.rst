.. rst-class:: sphx-glr-example-title

.. _sphx_glr_examples_plotting_tern.py:


Ternary Plots
=============

.. note:: This is a thin wrapper around Marc Harper's
    `python-ternary <https://github.com/marcharper/python-ternary>`__ package. This may
    change in the near future as needs change, but works well for scatter plots.


.. code-block:: default

    import pandas as pd
    import numpy as np
    import matplotlib.pyplot as plt
    from pyrolite.plot import pyroplot
    from pyrolite.plot.tern import ternary

    np.random.seed(82)







Let's first create some example data:



.. code-block:: default

    oxs = ["SiO2", "MgO", "CaO"]
    ys = np.random.rand(3, len(oxs))
    ys = np.exp(ys)
    df = pd.DataFrame(data=ys, columns=oxs)
    df.loc[:, ["SiO2", "MgO", "CaO"]]
    # plot
    ax = ternary(df.loc[:, ["SiO2", "MgO", "CaO"]].values, color="k")
    # or, alternatively directly from the dataframe:
    ax = df.loc[:, ["SiO2", "MgO", "CaO"]].pyroplot.ternary(color="k")
    plt.show()



.. image:: /examples/plotting/images/sphx_glr_tern_001.png
    :class: sphx-glr-single-img





The plotting axis can be specified to use exisiting axes:



.. code-block:: default

    fig, ax = plt.subplots(1, 2, sharex=True, sharey=True, figsize=(12, 5))

    df.loc[0, ["SiO2", "MgO", "CaO"]].pyroplot.ternary(ax=ax[0], color="k")
    df.loc[1:, ["SiO2", "MgO", "CaO"]].pyroplot.ternary(ax=ax[1], color="k")

    plt.tight_layout()



.. image:: /examples/plotting/images/sphx_glr_tern_002.png
    :class: sphx-glr-single-img





.. seealso:: `Heatscatter Plots <heatscatter.html>`__,
             `Density Plots <density.html>`__,
             `Spider Density Diagrams <conditionaldensity.html>`__


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  5.008 seconds)


.. _sphx_glr_download_examples_plotting_tern.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example


  .. container:: binder-badge

    .. image:: https://mybinder.org/badge_logo.svg
      :target: https://mybinder.org/v2/gh/morganjwilliams/pyrolite/develop?filepath=docs/source/examples/plotting/tern.ipynb
      :width: 150 px


  .. container:: sphx-glr-download

     :download:`Download Python source code: tern.py <tern.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: tern.ipynb <tern.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
